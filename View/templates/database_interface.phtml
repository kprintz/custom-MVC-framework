<?php
/** @var Ajax $this */

use Controller\Database\Ajax;
use Model\Calculations\Calculations;
use Model\Users\Users;

?>
<h1 class="header">Edit Databse</h1>

<div class="edit-window edit-window-container">

    <div class="edit-window__action">
        <label for="database-options">Which database do you want to edit?</label>
        <select name="filter" id="database-options">
            <option value="">Select...</option>
            <option data-database="Users" data-method="users" value="Users">Users</option>
            <option data-database="Calculations" data-method="calculations" value="Calculations">Calculations</option>
        </select>
    </div>

    <form data-form="get-data" method="POST" class="edit-window edit-window__form" id="set-form-action">
        <div class="edit-window__action">
                <label for="filter-options">What do you want to do?</label>
                <select name="filter" id="filter-options">
                    <option data-show-val="" value="">Select...</option>
                    <option data-show-val="add" data-method="add" value="add">Add Data</option>
                    <option data-show-val="update" data-method="update" value="update">Update Data</option>
                    <option data-show-val="delete" data-method="delete" value="delete">Delete Data</option>
                    <option data-show-val="filter" data-method="filter" value="filter">Filter Data</option>
                    <option data-show-val="all" data-method="getAllData" value="getAllData">View All Data</option>
                </select>

        </div>


        <div class="edit-window__filters_options" data-visible-for="hide,update,delete,filter">
            <label for="columnName">Column Name
                <select name="columnName">
                    <option value="ip">IP</option>
                    <option value="date">Date</option>
                    <option value="calculation">Calculation</option>
                </select>
            </label>
        </div>

        <div class="edit-window__filters_options" data-visible-for="hide,add">
            <div class="view_delete">
                <label for="calculation">Calculation
                    <input type="text" name="calculation">
                </label>
            </div>
        </div>

        <div class="edit-window__filters_options" data-visible-for="hide,delete,filter,update">
            <div class="view_delete">
                <label for="filterValue">Data Point
                    <input type="text" name="filterValue">
                </label>
            </div>
        </div>

        <div class="edit-window__filters_options" data-visible-for="hide,update">
            <label for="newValue">New Value
                <input type="text" name="newValue">
            </label>
        </div>

        <input type="submit" value="Submit" class="buttons buttons__admin">
        <div class="insert-message"></div>
    </form>

    <div class="database-display edit-window edit-window__form">
        <table>
            <tr class="table-headers">
                <?php
                foreach ($this->tableHeaders as $header): ?>
                    <th>
                        <?php echo ucfirst($header); ?>
                    </th>
                <?php endforeach; ?>
            </tr>
            <?php
            /** @var Ajax $tableRow */
            foreach ($this->tableRows as $tableRow): ?>
                <tr>
                    <?php foreach ($this->tableHeaders as $fieldName): ?>
                        <td>
                            <?php $this->data; ?>
                        </td>
                    <?php endforeach; ?>
                </tr>
            <?php endforeach; ?>
        </table>
    </div>
</div>
